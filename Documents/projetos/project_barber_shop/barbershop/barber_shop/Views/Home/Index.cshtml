@using barber_shop.Models.Enums;
@model barber_shop.Models.Service[];
@{
    ViewData["Title"] = "Home";
}

<div class="text-center">
    <h1 class="display-4">Bem vindo usuário</h1>
</div>
<title>oi</title>

<hr />

<div class="text-center">
    <h1 class="display-4">Serviços</h1>
    @if (User.Identity.IsAuthenticated)
    {
        if (User.Claims.First().Value == EnumAccountCategory.ADMINISTRATOR.ToString())
        {
            <a asp-action="Register" asp-controller="Service" class="btn btn-primary" id="btn-nenhum-cadastro">Create New</a>
        }
    }
</div>

@foreach (var item in Model)
{
    <div class="container-service mt-3">
        <div class="img-service">
            @{
                var base64 = Convert.ToBase64String(item.Image);
                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
            }
            <img src="@imgSrc" alt="img-service" title="img-service" style="max-width:200px; max-height:200px;">

        </div> <hr>

        <div class="text-service">
            <h1>@item.Name</h1>
            <h1>a</h1>

            <p>
                R$ @Html.DisplayFor(modelItem => item.Value)
            </p>

            <a class="btn btn-primary" asp-action="ToSchedule" asp-controller="Scheduling">Agendar</a>
            @if (User.Identity.IsAuthenticated)
            {
                if (User.Claims.First().Value == EnumAccountCategory.ADMINISTRATOR.ToString())
                {
                    <a class="link" asp-action="Edit" asp-controller="Service" asp-route-id="@item.Id"><p>Editar</p></a>
                    <a class="link" asp-action="Delete" asp-controller="Service" asp-route-id="@item.Id"><p>Deletar</p></a>
                }
            }
        </div>
    </div>
}
